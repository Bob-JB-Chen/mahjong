æ”¶åˆ°ã€‚å­—çœ‹ä¸æ¸…æ˜¯å› ä¸ºä¹‹å‰çš„é…è‰²åœ¨æŸäº›å±å¹•ä¸Šå¯¹æ¯”åº¦ä¸å¤Ÿï¼Œè€Œä¸”ä¸ºäº†è®©å…¨çƒç”¨æˆ·éƒ½èƒ½ç©ï¼Œæˆ‘ä»¬å°†é»˜è®¤è¯­è¨€æ”¹ä¸ºè‹±æ–‡ï¼Œå¹¶è¿›ä¸€æ­¥å¢å¼º UI çš„è§†è§‰å†²å‡»åŠ›ã€‚

ğŸ—ï¸ è¿›å±•åŒæ­¥ï¼šUI è§†è§‰å¢å¼º & å›½é™…åŒ–

æ”¹è¿›ç‚¹ï¼š

1. å…¨è‹±æ–‡ç•Œé¢ï¼šæ ‡é¢˜ã€æŒ‰é’®ã€çŠ¶æ€æ å…¨éƒ¨æ›¿æ¢ä¸ºè‹±æ–‡ã€‚
2. é«˜å¯¹æ¯”åº¦æ–‡å­—ï¼šç¡®ä¿é¡¶éƒ¨çŠ¶æ€æ ï¼ˆLeft/Undo/Hintï¼‰æ–‡å­—æå…¶æ¸…æ™°ã€‚
3. ç£è´´è¾¹æ¡†å¼ºåŒ–ï¼šç“·ç –è¾¹ç¼˜åŠ æ·±ï¼Œä½¿å…¶åœ¨ 3D å †å ä¸­å±‚æ¬¡åˆ†æ˜ã€‚

ğŸ› ï¸ ç»ˆæå…¨è‹±æ–‡ç‰ˆä»£ç  (è¦†ç›– GitHub index.html):

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>VITA MAHJONG ULTIMATE</title>
<style>
:root { --t-w: 60px; --t-h: 82px; --bg: #0f172a; --accent: #38bdf8; }
body { margin: 0; background: var(--bg); font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; display: flex; flex-direction: column; height: 100vh; overflow: hidden; color: white; user-select: none; }
header { padding: 15px 20px; background: #1e293b; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #334155; }
.header-title { font-weight: 900; font-size: 18px; color: var(--accent); letter-spacing: 1px; }
#status { font-weight: bold; color: #f8fafc; font-size: 16px; }
#game-container { position: relative; flex-grow: 1; display: flex; justify-content: center; align-items: center; perspective: 1000px; }
#board { position: relative; width: 380px; height: 500px; transform: rotateX(12deg); transform-style: preserve-3d; }
.tile { position: absolute; width: var(--t-w); height: var(--t-h); background: #fff; border: 3px solid #000; border-radius: 8px;
display: flex; justify-content: center; align-items: center; font-size: 45px; cursor: pointer;
box-shadow: 0 1px 0 #ccc, 1px 2px 0 #ccc, 2px 3px 0 #bbb, 3px 6px 12px rgba(0,0,0,0.6);
transition: all 0.2s cubic-bezier(0.18, 0.89, 0.32, 1.28); }
.tile.selected { background: #fbbf24; transform: translateZ(20px) scale(1.15); box-shadow: 0 0 30px #fbbf24; z-index: 1000 !important; }
.tile.hint { animation: pulse 0.5s infinite alternate; border-color: #38bdf8; border-width: 4px; }
.tile.locked { filter: grayscale(1) brightness(0.3); cursor: not-allowed; opacity: 0.7; }
@keyframes pulse { from { box-shadow: 0 0 5px #38bdf8; } to { box-shadow: 0 0 25px #38bdf8; } }
footer { padding: 20px; background: #1e293b; display: grid; grid-template-columns: 1fr 1fr 1.5fr; gap: 12px; }
.btn { padding: 14px; font-size: 16px; font-weight: 800; border-radius: 14px; border: none; background: #334155; color: white; cursor: pointer; text-transform: uppercase; }
.btn.primary { background: var(--accent); color: #0f172a; }
.btn:active { transform: scale(0.92); }
</style>
</head>
<body>
<header>
<div class="header-title">VITA MAHJONG</div>
<div id="status">TILES: <span id="count" style="color: #fbbf24;">0</span></div>
</header>
<div id="game-container"><div id="board"></div></div>
<footer>
<button class="btn" onclick="undo()">UNDO</button>
<button class="btn" onclick="showHint()">HINT</button>
<button class="btn primary" onclick="init()">NEW GAME</button>
</footer>
<script>
const board = document.getElementById('board');
const countEl = document.getElementById('count');
const mahjongs = ['ğŸ€„','ğŸ€…','ğŸ€†','ğŸ€‡','ğŸ€ˆ','ğŸ€‰','ğŸ€Š','ğŸ€‹','ğŸ€Œ','ğŸ€','ğŸ€','ğŸ€Ÿ','ğŸ€€','ğŸ€','ğŸ€‚','ğŸ€ƒ','ğŸ€','ğŸ€‘','ğŸ€’','ğŸ€“','ğŸ€”','ğŸ€•','ğŸ€–','ğŸ€—'];
let selected = null; let all = []; let history = [];

function playSound(freq, type="sine", dur=0.1) {
try {
const ctx = new (window.AudioContext || window.webkitAudioContext)();
const osc = ctx.createOscillator(); const gain = ctx.createGain();
osc.type = type; osc.frequency.setValueAtTime(freq, ctx.currentTime);
gain.gain.setValueAtTime(0.05, ctx.currentTime);
osc.connect(gain); gain.connect(ctx.destination);
osc.start(); osc.stop(ctx.currentTime + dur);
} catch(e){}
}

function isLocked(t) {
const {r,c,l} = t.dataset;
const hasUp = all.some(o => o.dataset.l > l && Math.abs(o.dataset.r-r) < 0.7 && Math.abs(o.dataset.c-c) < 0.7);
if(hasUp) return true;
const hasL = all.some(o => o.dataset.l == l && Math.abs(o.dataset.r-r) < 0.5 && o.dataset.c < c && o.dataset.c > c-1.1);
const hasR = all.some(o => o.dataset.l == l && Math.abs(o.dataset.r-r) < 0.5 && o.dataset.c > c && o.dataset.c < c+1.1);
return hasL && hasR;
}

function refresh() {
all.forEach(t => { t.classList.remove('hint'); t.classList.toggle('locked', isLocked(t)); });
countEl.innerText = all.length;
if(all.length === 0) { playSound(800, "square", 0.5); setTimeout(()=>alert("BUILDER MASTER! ALL CLEARED!"), 300); }
}

function undo() {
if(history.length === 0) return;
const last = history.pop();
last.forEach(t => { board.appendChild(t); all.push(t); });
playSound(300); refresh();
}

function showHint() {
all.forEach(t => t.classList.remove('hint'));
const free = all.filter(t => !isLocked(t));
for(let i=0; i<free.length; i++) {
for(let j=i+1; j<free.length; j++) {
if(free[i].dataset.v === free[j].dataset.v) {
free[i].classList.add('hint'); free[j].classList.add('hint');
return;
}
}
}
}

function handle(t) {
if (t.classList.contains('locked')) return;
if (selected === t) { selected.classList.remove('selected'); selected = null; return; }
playSound(selected ? 600 : 440);
if (selected) {
if (selected.dataset.v === t.dataset.v) {
history.push([selected, t]);
t.remove(); selected.remove();
all = all.filter(x => x!==t && x!==selected);
selected = null; playSound(880, "sine", 0.05); refresh();
} else { selected.classList.remove('selected'); t.classList.add('selected'); selected = t; }
} else { t.classList.add('selected'); selected = t; }
}

function init() {
board.innerHTML = ''; all = []; history = [];
const layout = [];
// PRO Pyramid Layout
for(let r=0;r<6;r++) for(let c=0;c<4;c++) layout.push({r,c,l:0});
for(let r=1;r<5;r++) for(let c=1;c<3;c++) layout.push({r:r+0.2,c:c+0.2,l:1});
for(let r=2;r<4;r++) layout.push({r:r+0.4,c:1.7,l:2});

let pool = []; let n = Math.floor(layout.length/2);
for(let i=0; i<n; i++) { const v = mahjongs[i % mahjongs.length]; pool.push(v,v); }
if(layout.length % 2) pool.push(mahjongs[0]);
pool.sort(() => Math.random() - 0.5);

layout.forEach((p, i) => {
const t = document.createElement('div'); t.className = 'tile';
t.innerHTML = pool[i]; Object.assign(t.dataset, {v:pool[i], r:p.r, c:p.c, l:p.l});
t.style.left = `${p.c * 72 + 50}px`; t.style.top = `${p.r * 75 + 30}px`;
t.style.transform = `translateZ(${p.l * 12}px)`; t.style.zIndex = p.l * 10;
t.onclick = () => handle(t); board.appendChild(t); all.push(t);
});
refresh();
}
init();
</script>
</body>
</html>
